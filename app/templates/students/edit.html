{% extends "base.html" %}

{% block title %}Sửa thông tin sinh viên{% endblock %}

{% block content %}
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
  <h2>✏️ Sửa thông tin sinh viên</h2>
  <a href="/students/list" class="btn btn-secondary">← Quay lại danh sách</a>
</div>

<div style="background-color: #e9ecef; padding: 15px; border-radius: 4px; margin-bottom: 20px;">
  <p><strong>🔒 Mã sinh viên:</strong> {{ student.ma_sv }} (không thể thay đổi)</p>
</div>

<form method="POST" style="max-width: 600px;">
  <div style="margin-bottom: 20px;">
    <label for="ho_ten" style="display: block; margin-bottom: 5px; font-weight: bold;">
      Họ và tên: <span style="color: red;">*</span>
    </label>
    <input type="text" id="ho_ten" name="ho_ten" required value="{{ student.ho_ten }}"
      style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;"
      placeholder="Ví dụ: Nguyễn Văn A">
  </div>

  <div style="margin-bottom: 20px;">
    <label for="ma_lop" style="display: block; margin-bottom: 5px; font-weight: bold;">
      Mã lớp: <span style="color: red;">*</span>
    </label>
    <input type="text" id="ma_lop" name="ma_lop" required value="{{ student.ma_lop }}"
      style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;"
      placeholder="Ví dụ: CNTT01">
  </div>

  <div style="margin-bottom: 20px;">
    <label for="gioi_tinh" style="display: block; margin-bottom: 5px; font-weight: bold;">
      Giới tính:
    </label>
    <select id="gioi_tinh" name="gioi_tinh"
      style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;">
      <option value="">-- Chọn giới tính --</option>
      <option value="Nam" {% if student.gioi_tinh=='Nam' %}selected{% endif %}>Nam</option>
      <option value="Nữ" {% if student.gioi_tinh=='Nữ' %}selected{% endif %}>Nữ</option>
    </select>
  </div>

  <div style="margin-bottom: 20px;">
    <label for="ngay_sinh" style="display: block; margin-bottom: 5px; font-weight: bold;">
      Ngày sinh:
    </label>
    <input type="date" id="ngay_sinh" name="ngay_sinh"
      value="{{ student.ngay_sinh.strftime('%Y-%m-%d') if student.ngay_sinh else '' }}"
      style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;">
  </div>

  <div style="margin-bottom: 20px;">
    <label for="dia_chi" style="display: block; margin-bottom: 5px; font-weight: bold;">
      Địa chỉ:
    </label>
    <textarea id="dia_chi" name="dia_chi" rows="3"
      style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; resize: vertical;"
      placeholder="Ví dụ: 123 Đường ABC, Phường XYZ, Quận 1, TP.HCM">{{ student.dia_chi or '' }}</textarea>
  </div>
  <div style="margin-top: 30px;">
    <button type="submit" class="btn btn-success" style="padding: 12px 24px; font-size: 16px;">
      ✅ Cập nhật thông tin
    </button>
    <a href="/students/list" class="btn btn-secondary" style="padding: 12px 24px; font-size: 16px;">
      ❌ Hủy bỏ
    </a>
  </div>
</form>

<div style="margin-top: 20px; padding: 15px; background-color: #e9ecef; border-radius: 4px; color: #6c757d;">
  <p><strong>📝 Lưu ý:</strong></p>
  <ul>
    <li>Mã sinh viên không thể thay đổi</li>
    <li>Các trường có dấu <span style="color: red;">*</span> là bắt buộc</li>
    <li>Mã lớp phải tồn tại trong hệ thống</li>
  </ul>
</div>
{% endblock %}